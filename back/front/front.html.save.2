#file-list {
  list-style-type: none; /* remove dots */
  padding-left: 0;
  margin-top: 0.5rem;
}

#file-list li {
  padding: 8px;
  margin: 4px 0;
  border: 1px solid #ccc;
  border-radius: 5px;
  background: #f9f9f9;
  text-align: left;
  transition: background 0.2s, border-color 0.2s;
}

/* Highlight effect on hover */
#file-list li:hover {
  background: #e6f7ff;
  border-color: #3399ff;
}<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Shared Folder Login</title>
<style>
body { font-family: Arial; background: #f4f4f4; display:flex; justify-content:center; align-items:center; height:100vh; margin:0; }
.login-container, .upload-container { background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); width: 300px; text-align:center; }
input[type="text"], input[type="password"] { width: 90%; padding:0.5rem; margin:0.5rem 0; border:1px solid #ccc; border-radius:5px; }
button { padding:0.5rem 1rem; border:none; background-color:#007bff; color:white; border-radius:5px; cursor:pointer; }
button:hover { background-color:#0056b3; }
.error { color:red; margin-bottom:1rem; }
.drop-zone { margin-top:1rem; border:2px dashed #ccc; border-radius:10px; padding:2rem; background:#fafafa; transition:0.3s; }
.drop-zone.dragover { background:#e6f7ff; border-color:#3399ff; } 

#file-list {
  list-style-type: none; /* removes the bullet dots */
  padding-left: 0;
}

#file-list li {
  padding: 5px;
  border-bottom: 1px solid #ddd;
  text-align: left;
}


</style>
</head>
<body>
<div id="login-section" class="login-container">
<h2>Login</h2>
<form id="login-form">
<input type="text" name="username" placeholder="Username" required><br>
<input type="password" name="password" placeholder="Password" required><br>
<button type="submit">Login</button>
</form>
<div id="error-message" class="error"></div>
</div>
<div id="upload-section" class="upload-container" style="display:none">
<h2>Upload Files</h2>
<div class="drop-zone" id="drop-zone">Drag & Drop files here</div>

<h3 style="margin-top:1rem;">Uploaded Files</h3>
<ul id="file-list" style="text-align:left; margin-top:0.5rem; padding-left:1rem;"></ul>

</div>
<script>
const loginForm = document.getElementById('login-form');
const errorMessage = document.getElementById('error-message');
const loginSection = document.getElementById('login-section');
const uploadSection = document.getElementById('upload-section');
const dropZone = document.getElementById('drop-zone');

const fileList = document.getElementById('file-list');

loginForm.addEventListener('submit', async (e) => {
e.preventDefault();
const formData = new FormData(loginForm);
const res = await fetch('/login',{ method:'POST', body:formData });
if(res.redirected){ loginSection.style.display='none'; uploadSection.style.display='block';}
else{ const html = await res.text(); const parser = new DOMParser(); const doc = parser.parseFromString(html,'text/html'); 
const error = doc.getElementById('error-message'); errorMessage.innerText = error ? error.innerText : 'Login failed'; }
});
dropZone.addEventListener('dragover', e=>{ e.preventDefault(); dropZone.classList.add('dragover'); });
dropZone.addEventListener('dragleave', ()=>{ dropZone.classList.remove('dragover'); });
//dropZone.addEventListener('drop', async e=>{ e.preventDefault(); dropZone.classList.remove('dragover'); const files = e.dataTransfer.files; for(let file of files){ const formData = new FormData(); formData.append('file',file); await fetch('/upload',{method:'POST', body:formData}); } alert('Files uploaded successfully'); });




dropZone.addEventListener('drop', async e=>{ 
  e.preventDefault();
  dropZone.classList.remove('dragover');

  const files = e.dataTransfer.files;
  for(let file of files){
    const formData = new FormData();
    formData.append('file', file);
    await fetch('/upload',{method:'POST', body:formData});
    const li = document.createElement('li');
    li.textContent = file.name;
    fileList.appendChild(li);
  }
  alert('Files uploaded successfully');
});


</script>
</body>
</html>
